# Git操作脚本使用说明

## 概述

本项目提供了三个Git管理脚本，帮助您更好地管理代码版本控制：

1. **`git_manager.bat`** - 完整的Git管理工具
2. **`git_quick.bat`** - 快速Git操作
3. **`git_workflow.bat`** - Git工作流程管理

## 脚本功能

### 1. Git管理工具 (`git_manager.bat`)

提供完整的Git操作功能：

#### 基础操作
- **查看Git状态** - 显示工作区和暂存区状态
- **查看提交历史** - 显示最近的提交记录
- **添加文件到暂存区** - 将所有更改添加到暂存区
- **提交更改** - 提交暂存区的更改
- **推送到远程仓库** - 推送本地提交到远程
- **从远程仓库拉取更新** - 拉取并合并远程更改

#### 分支管理
- **查看分支信息** - 显示本地、远程和所有分支
- **创建新分支** - 创建并切换到新分支
- **切换分支** - 切换到指定分支
- **合并分支** - 将指定分支合并到当前分支

#### 高级操作
- **查看文件差异** - 显示工作区与暂存区的差异
- **撤销更改** - 撤销工作区、暂存区或提交的更改
- **查看远程仓库信息** - 显示远程仓库列表
- **初始化Git仓库** - 初始化新的Git仓库
- **克隆远程仓库** - 克隆远程仓库到本地

### 2. Git快速操作 (`git_quick.bat`)

提供常用的Git工作流程：

#### 快速操作
- **快速提交** - 一键添加并提交所有更改
- **快速推送** - 一键添加、提交并推送到远程
- **快速拉取并合并** - 拉取远程更新并合并
- **查看当前状态** - 快速查看工作区状态和分支信息
- **查看最近提交** - 显示最近的提交记录

#### 分支操作
- **快速创建功能分支** - 创建功能开发分支
- **快速合并并删除分支** - 合并分支后自动删除
- **快速撤销最后提交** - 撤销最后一次提交
- **快速清理工作区** - 清理未跟踪的文件

### 3. Git工作流程管理 (`git_workflow.bat`)

实现Git Flow工作流程：

#### 功能开发流程
- **开始新功能开发** - 从develop分支创建功能分支
- **完成功能开发** - 合并功能分支到develop分支
- **开始测试** - 创建测试分支进行测试
- **完成测试** - 完成测试后清理测试分支

#### 发布流程
- **准备发布** - 从develop分支创建发布分支
- **发布完成** - 合并发布分支到main和develop分支
- **热修复** - 从main分支创建热修复分支

#### 工作流程管理
- **查看工作流程状态** - 显示当前工作流程状态
- **查看分支关系图** - 可视化分支关系
- **清理已合并分支** - 清理已合并的功能分支

## 使用方法

### 通过主菜单访问

1. 运行 `scripts/start.bat` 启动主菜单
2. 选择相应的Git操作选项：
   - 选择 `7` 进入Git管理工具
   - 选择 `8` 进入Git快速操作
   - 选择 `9` 进入Git工作流程

### 直接运行脚本

```bash
# 进入scripts目录
cd scripts

# 运行Git管理工具
git_manager.bat

# 运行Git快速操作
git_quick.bat

# 运行Git工作流程
git_workflow.bat
```

## 推荐工作流程

### 日常开发流程

1. **开始新功能**
   - 使用 `git_workflow.bat` 的"开始新功能开发"
   - 在功能分支上进行开发

2. **提交代码**
   - 使用 `git_quick.bat` 的"快速提交"或"快速推送"
   - 定期提交代码到远程仓库

3. **完成功能**
   - 使用 `git_workflow.bat` 的"完成功能开发"
   - 合并功能分支到develop分支

### 发布流程

1. **准备发布**
   - 使用 `git_workflow.bat` 的"准备发布"
   - 创建发布分支进行最终测试

2. **发布完成**
   - 使用 `git_workflow.bat` 的"发布完成"
   - 合并到main分支并创建版本标签

### 热修复流程

1. **创建热修复分支**
   - 使用 `git_workflow.bat` 的"热修复"
   - 从main分支创建热修复分支

2. **修复问题**
   - 在热修复分支上修复问题
   - 使用"发布完成"流程完成热修复

## 注意事项

### 安全操作
- 在执行删除操作前，脚本会要求确认
- 重要操作会显示警告信息
- 建议在执行重要操作前备份重要数据

### 分支管理
- 遵循Git Flow工作流程
- 及时清理已合并的分支
- 保持分支命名规范

### 远程操作
- 推送前确保本地代码已提交
- 拉取前确保本地工作区干净
- 处理冲突时仔细检查代码

## 故障排除

### 常见问题

1. **权限问题**
   - 确保有Git仓库的读写权限
   - 检查SSH密钥配置（如果使用SSH）

2. **冲突解决**
   - 使用 `git status` 查看冲突文件
   - 手动解决冲突后重新提交

3. **分支问题**
   - 使用 `git branch -a` 查看所有分支
   - 使用 `git log --graph` 查看分支关系

### 获取帮助

- 使用 `git help <command>` 获取命令帮助
- 查看Git官方文档
- 联系开发团队获取支持

## 总结

这些Git脚本提供了完整的版本控制管理功能，帮助您：

- 规范化Git工作流程
- 提高开发效率
- 减少操作错误
- 保持代码库整洁

建议根据团队开发习惯选择合适的脚本，并定期使用这些工具维护代码库。 